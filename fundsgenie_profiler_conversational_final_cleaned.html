
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>FundsGenie Financial Profiler</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body {
      font-family: 'Segoe UI', sans-serif;
      background: linear-gradient(135deg, #e6f0ff, #ffffff);
      margin: 0;
      padding: 0;
    }
    .header {
      padding: 10px 20px;
      background: #fff;
      display: flex;
      align-items: center;
      border-bottom: 1px solid #ddd;
    }
    .header img {
      height: 40px;
    }
    .chat-container {
      max-width: 600px;
      margin: 20px auto;
      background: white;
      border-radius: 16px;
      padding: 20px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.05);
      position: relative;
    }
    .message {
      margin: 10px 0;
      display: flex;
      align-items: flex-start;
    }
    .bot { justify-content: flex-start; }
    .user { justify-content: flex-end; flex-direction: row-reverse; }
    .avatar {
      width: 48px;
      height: 48px;
      margin: 0 10px;
    }
    .bubble {
      padding: 12px 18px;
      border-radius: 20px;
      max-width: 75%;
      font-size: 15px;
    }
    .bot .bubble {
      background: #f0f8ff;
      color: #333;
      border-top-left-radius: 0;
    }
    .user .bubble {
      background: #004aad;
      color: #fff;
      border-top-right-radius: 0;
    }
    .response-buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 10px;
    }
    .response-buttons button {
      padding: 10px 18px;
      font-size: 14px;
      background: linear-gradient(to right, #3ecf8e, #58d3a3);
      color: white;
      border: none;
      border-radius: 20px;
      cursor: pointer;
    }
    .progress {
      position: absolute;
      top: 10px;
      right: 20px;
      font-size: 13px;
      color: #666;
    }
    .thinking span {
      display: inline-block;
      width: 6px;
      height: 6px;
      margin-right: 2px;
      background: #888;
      border-radius: 50%;
      animation: blink 1.4s infinite both;
    }
    @keyframes blink {
      0%, 80%, 100% { opacity: 0; }
      40% { opacity: 1; }
    }
    .share-options {
      margin-top: 15px;
      display: flex;
      gap: 10px;
    }
    .share-options img {
      width: 28px;
      height: 28px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div class="header">
    <img src="dashboardlogo.svg" alt="FundsGenie Logo"/>
  </div>
  <div class="chat-container" id="chat">
    <div class="progress" id="progress">0%</div>
    <div class="message bot">
      <span class="avatar" style="font-size:32px;margin:0 10px;">üßû‚Äç‚ôÇÔ∏è</span>
      <div class="bubble">Hello! üëã I'm your FundsGenie. Please choose your language:</div>
    </div>
    <div class="response-buttons" id="langSelect">
      <button onclick="startChat('en')">English</button>
      <button onclick="startChat('ml')">‡¥Æ‡¥≤‡¥Ø‡¥æ‡¥≥‡¥Ç</button>
    </div>
  </div>

  





<script>

    const chat = document.getElementById("chat");
    const progress = document.getElementById("progress");

    const questions = {
      en: [
        { q: "Do you maintain a monthly budget?", a: ["Yes", "No"], s: [2, 0], t: "health" },
        { q: "What portion of your income do you save?", a: ["<10%", "10‚Äì20%", "20‚Äì30%", "30%+"], s: [0, 1, 2, 3], t: "health" },
        { q: "Do you have an emergency fund?", a: ["Yes", "No"], s: [3, 0], t: "health" },
        { q: "How do you track your investments?", a: ["Don‚Äôt track", "Check casually", "Review regularly"], s: [0, 1, 2], t: "health" },
        { q: "Do you have health insurance?", a: ["Yes", "No"], s: [2, 0], t: "health" },
        { q: "Do you invest towards long-term goals?", a: ["Yes", "No"], s: [2, 0], t: "health" },
        { q: "If investment drops 10%, what do you do?", a: ["Sell", "Wait", "Invest more"], s: [0, 1, 2], t: "risk" },
        { q: "Your investment style?", a: ["Avoid risk", "Balanced", "Growth-focused"], s: [0, 1, 2], t: "risk" },
        { q: "How long can you stay invested?", a: ["<1 year", "1‚Äì3 years", "3+ years"], s: [0, 1, 2], t: "risk" },
        { q: "Knowledge of mutual funds?", a: ["New", "Somewhat aware", "Well-informed"], s: [0, 1, 2], t: "risk" },
        { q: "What's your primary financial goal?", a: ["Child‚Äôs Education", "Home", "Retirement", "Travel", "Wealth", "Other"], s: [0, 0, 0, 0, 0, 0], t: "goal" },
        { q: "Would you like to attend our FundsGenie event and speak to our expert for a personalised plan?", a: ["Yes", "No"], s: [0, 0], t: "event" }
      ]
    };
    questions["ml"] = [{"q": "‡¥®‡¥ø‡¥ô‡µç‡¥ô‡µæ ‡¥™‡µç‡¥∞‡¥§‡¥ø‡¥Æ‡¥æ‡¥∏ ‡¥¨‡¥ú‡¥±‡µç‡¥±‡µç ‡¥§‡¥Ø‡µç‡¥Ø‡¥æ‡¥±‡¥æ‡¥ï‡µç‡¥ï‡¥æ‡¥±‡µÅ‡¥£‡µç‡¥ü‡µã?", "a": ["‡¥â‡¥£‡µç‡¥ü‡µç", "‡¥á‡¥≤‡µç‡¥≤"], "s": [2, 0], "t": "health"}, {"q": "‡¥®‡¥ø‡¥ô‡µç‡¥ô‡¥≥‡µÅ‡¥ü‡µÜ ‡¥µ‡¥∞‡µÅ‡¥Æ‡¥æ‡¥®‡¥§‡µç‡¥§‡¥ø‡µΩ ‡¥é‡¥§‡µç‡¥∞ ‡¥∂‡¥§‡¥Æ‡¥æ‡¥®‡¥Ç ‡¥®‡¥ø‡¥ô‡µç‡¥ô‡µæ ‡¥∏‡¥Ç‡¥∞‡¥ï‡µç‡¥∑‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥®‡µç‡¥®‡µÅ?", "a": ["<10%", "10‚Äì20%", "20‚Äì30%", "30%+"], "s": [0, 1, 2, 3], "t": "health"}, {"q": "‡¥®‡¥ø‡¥ô‡µç‡¥ô‡µæ‡¥ï‡µç‡¥ï‡µç ‡¥Ö‡¥ü‡¥ø‡¥Ø‡¥®‡µç‡¥§‡¥ø‡¥∞ ‡¥´‡¥£‡µç‡¥ü‡µÅ‡¥£‡µç‡¥ü‡µã?", "a": ["‡¥â‡¥£‡µç‡¥ü‡µç", "‡¥á‡¥≤‡µç‡¥≤"], "s": [3, 0], "t": "health"}, {"q": "‡¥®‡¥ø‡¥ô‡µç‡¥ô‡¥≥‡µÅ‡¥ü‡µÜ ‡¥®‡¥ø‡¥ï‡µç‡¥∑‡µá‡¥™‡¥ô‡µç‡¥ô‡µæ ‡¥é‡¥ô‡µç‡¥ô‡¥®‡µÜ ‡¥™‡¥ø‡¥®‡µç‡¥§‡µÅ‡¥ü‡¥∞‡µÅ‡¥®‡µç‡¥®‡µÅ?", "a": ["‡¥™‡¥ø‡¥®‡µç‡¥§‡µÅ‡¥ü‡¥∞‡¥æ‡¥±‡¥ø‡¥≤‡µç‡¥≤", "‡¥Ö‡¥µ‡¥∏‡¥∞‡¥§‡µç‡¥§‡¥ø‡¥®‡µç", "‡¥®‡¥ø‡¥Ø‡¥Æ‡¥ø‡¥§‡¥Æ‡¥æ‡¥Ø‡¥ø"], "s": [0, 1, 2], "t": "health"}, {"q": "‡¥®‡¥ø‡¥ô‡µç‡¥ô‡µæ‡¥ï‡µç‡¥ï‡µç ‡¥Ü‡¥∞‡µã‡¥ó‡µç‡¥Ø ‡¥á‡µª‡¥∑‡µÅ‡¥±‡µª‡¥∏‡µç ‡¥â‡¥£‡µç‡¥ü‡µã?", "a": ["‡¥â‡¥£‡µç‡¥ü‡µç", "‡¥á‡¥≤‡µç‡¥≤"], "s": [2, 0], "t": "health"}, {"q": "‡¥¶‡µÄ‡µº‡¥ò‡¥ï‡¥æ‡¥≤ ‡¥≤‡¥ï‡µç‡¥∑‡µç‡¥Ø‡¥ô‡µç‡¥ô‡µæ‡¥ï‡µç‡¥ï‡¥æ‡¥Ø‡¥ø ‡¥®‡¥ø‡¥ô‡µç‡¥ô‡µæ ‡¥®‡¥ø‡¥ï‡µç‡¥∑‡µá‡¥™‡¥ø‡¥ï‡µç‡¥ï‡¥æ‡¥±‡µÅ‡¥£‡µç‡¥ü‡µã?", "a": ["‡¥â‡¥£‡µç‡¥ü‡µç", "‡¥á‡¥≤‡µç‡¥≤"], "s": [2, 0], "t": "health"}, {"q": "‡¥®‡¥ø‡¥ï‡µç‡¥∑‡µá‡¥™‡¥Ç 10% ‡¥ï‡µÅ‡¥±‡¥Ø‡µÅ‡¥Æ‡µç‡¥™‡µã‡µæ ‡¥®‡¥ø‡¥ô‡µç‡¥ô‡µæ ‡¥ö‡µÜ‡¥Ø‡µç‡¥Ø‡µÅ‡¥®‡µç‡¥®‡¥§‡µç?", "a": ["‡¥µ‡¥ø‡µΩ‡¥ï‡µç‡¥ï‡µÅ‡¥ï", "‡¥ï‡¥æ‡¥§‡µç‡¥§‡¥ø‡¥∞‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥ï", "‡¥ï‡µÇ‡¥ü‡µÅ‡¥§‡µΩ ‡¥®‡¥ø‡¥ï‡µç‡¥∑‡µá‡¥™‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥ï"], "s": [0, 1, 2], "t": "risk"}, {"q": "‡¥®‡¥ø‡¥ô‡µç‡¥ô‡¥≥‡µÅ‡¥ü‡µÜ ‡¥®‡¥ø‡¥ï‡µç‡¥∑‡µá‡¥™ ‡¥∂‡µà‡¥≤‡¥ø?", "a": ["‡¥Ö‡¥≠‡¥Ø‡¥Ç ‡¥Æ‡µÅ‡µª‚Äå‡¥®‡¥ø‡µº‡¥§‡µç‡¥§‡µÅ‡¥®‡µç‡¥®‡µÅ", "‡¥∏‡¥Æ‡¥§‡µÅ‡¥≤‡¥ø‡¥§‡¥Ç", "‡¥µ‡¥≥‡µº‡¥ö‡µç‡¥ö ‡¥Ö‡¥≠‡¥ø‡¥≤‡¥∑‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥®‡µç‡¥®‡µÅ"], "s": [0, 1, 2], "t": "risk"}, {"q": "‡¥®‡¥ø‡¥ô‡µç‡¥ô‡µæ ‡¥é‡¥§‡µç‡¥∞ ‡¥ï‡¥æ‡¥≤‡¥Ç ‡¥®‡¥ø‡¥ï‡µç‡¥∑‡µá‡¥™‡¥Ç ‡¥§‡µÅ‡¥ü‡¥∞‡¥æ‡µª ‡¥§‡¥Ø‡µç‡¥Ø‡¥æ‡¥±‡¥æ‡¥£‡µç?", "a": ["<1 ‡¥µ‡µº‡¥∑‡¥Ç", "1‚Äì3 ‡¥µ‡µº‡¥∑‡¥Ç", "3+ ‡¥µ‡µº‡¥∑‡¥Ç"], "s": [0, 1, 2], "t": "risk"}, {"q": "‡¥Æ‡µç‡¥Ø‡µÇ‡¥ö‡µç‡¥µ‡µΩ ‡¥´‡¥£‡µç‡¥ü‡µÅ‡¥ï‡µæ‡¥ï‡µç‡¥ï‡µÅ‡¥≥‡µç‡¥≥ ‡¥Ö‡¥±‡¥ø‡¥µ‡µç?", "a": ["‡¥™‡µÅ‡¥§‡¥ø‡¥Ø‡¥§‡¥æ‡¥£‡µç", "‡¥§‡¥æ‡¥≤‡µç‡¥™‡¥∞‡µç‡¥Ø‡¥Æ‡µÅ‡¥£‡µç‡¥ü‡µç", "‡¥®‡¥®‡µç‡¥®‡¥æ‡¥Ø‡¥ø ‡¥Ö‡¥±‡¥ø‡¥Ø‡¥æ‡¥Ç"], "s": [0, 1, 2], "t": "risk"}, {"q": "‡¥®‡¥ø‡¥ô‡µç‡¥ô‡¥≥‡µÅ‡¥ü‡µÜ ‡¥™‡µç‡¥∞‡¥ß‡¥æ‡¥® ‡¥ß‡¥®‡¥ï‡¥æ‡¥∞‡µç‡¥Ø ‡¥≤‡¥ï‡µç‡¥∑‡µç‡¥Ø‡¥Ç ‡¥é‡¥®‡µç‡¥§‡¥æ‡¥£‡µç?", "a": ["‡¥Æ‡¥ï‡¥®‡µç‡¥±‡µÜ/‡¥Æ‡¥ï‡¥≥‡µÅ‡¥ü‡µÜ ‡¥µ‡¥ø‡¥¶‡µç‡¥Ø‡¥æ‡¥≠‡µç‡¥Ø‡¥æ‡¥∏‡¥Ç", "‡¥µ‡µÄ‡¥ü‡µç", " ‡¥µ‡¥ø‡¥∞‡¥Æ‡¥ø‡¥ï‡µç‡¥ï‡µΩ", "‡¥∏‡¥û‡µç‡¥ö‡¥æ‡¥∞‡¥Ç", "‡¥∏‡¥Æ‡µç‡¥™‡¥§‡µç‡¥§‡µç", "‡¥Æ‡¥±‡µç‡¥±‡µç"], "s": [0, 0, 0, 0, 0, 0], "t": "goal"}, {"q": "FundsGenie ‡¥à‡¥µ‡¥®‡µç‡¥±‡¥ø‡µΩ ‡¥™‡¥ô‡µç‡¥ï‡µÜ‡¥ü‡µÅ‡¥ï‡µç‡¥ï‡¥æ‡µª ‡¥§‡¥æ‡µΩ‡¥™‡µç‡¥™‡¥∞‡µç‡¥Ø‡¥Æ‡µÅ‡¥£‡µç‡¥ü‡µã? ‡¥®‡¥ø‡¥ô‡µç‡¥ô‡¥≥‡µÅ‡¥ü‡µÜ ‡¥≤‡¥ï‡µç‡¥∑‡µç‡¥Ø‡¥ô‡µç‡¥ô‡µæ‡¥ï‡µç‡¥ï‡µç ‡¥Ö‡¥®‡µÅ‡¥Ø‡µã‡¥ú‡µç‡¥Ø‡¥Æ‡¥æ‡¥Ø ‡¥™‡¥¶‡µç‡¥ß‡¥§‡¥ø‡¥ï‡µç‡¥ï‡µç ‡¥®‡¥ø‡µº‡¥¶‡µá‡¥∂‡¥ô‡µç‡¥ô‡µæ ‡¥≤‡¥≠‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥Ç.", "a": ["‡¥â‡¥£‡µç‡¥ü‡µç", "‡¥á‡¥≤‡µç‡¥≤"], "s": [0, 0], "t": "event"}];

    let lang = "en", i = 0, h = 0, r = 0, g = "", e = "";

    function startChat(selected) {
      lang = selected;
      document.getElementById("langSelect").remove();
      ask();
    }

    function ask() {
      if ([2, 5, 7, 11].includes(i)) {
        const loading = document.createElement("div");
        loading.className = "message bot";
        loading.innerHTML = '<span class="avatar" style="font-size:32px;margin:0 10px;">üßû‚Äç‚ôÇÔ∏è</span><div class="bubble"><span class="thinking"><span></span><span></span><span></span></span></div>';
        chat.appendChild(loading);
        setTimeout(() => { loading.remove(); askNext(); }, 1000);
      } else {
        askNext();
      }
    }

    function askNext() {
      const q = questions[lang][i];
      const m = document.createElement("div");
      m.className = "message bot";
      m.innerHTML = `<span class="avatar" style="font-size:32px;margin:0 10px;">üßû‚Äç‚ôÇÔ∏è</span><div class="bubble">${q.q}</div>`;
      chat.appendChild(m);

      const b = document.createElement("div");
      b.className = "response-buttons";
      q.a.forEach((t, x) => {
        const btn = document.createElement("button");
        btn.textContent = t;
        btn.onclick = () => reply(t, q.s[x], q.t);
        b.appendChild(btn);
      });
      chat.appendChild(b);

      updateProgress();
    }

    function reply(text, score, type) {
      const u = document.createElement("div");
      u.className = "message user";
      u.innerHTML = `<div class="bubble">${text}</div>`;
      chat.appendChild(u);
      document.querySelectorAll(".response-buttons").forEach(e => e.remove());
      if (type === "health") h += score;
      else if (type === "risk") r += score;
      else if (type === "goal") g = text;
      else if (type === "event") e = text;
      i++;
      setTimeout(() => (i < questions[lang].length ? ask() : finish()), 500);
    }

    function finish() {
      let healthMsg = h <= 8 ? "‚ö†Ô∏è Needs improvement" : h <= 14 ? "‚úÖ On track" : "üéØ Excellent";
      let riskMsg = r <= 3 ? "Conservative" : r <= 6 ? "Moderate" : "Aggressive";

      const res = document.createElement("div");
      res.className = "message bot";
      res.innerHTML = `<span class="avatar" style="font-size:32px;margin:0 10px;">üßû‚Äç‚ôÇÔ∏è</span>
        <div class="bubble">
          üéâ All done!<br><br>
          <strong>Financial Health Score:</strong> ${h} ‚Üí ${healthMsg}<br>
          <strong>Risk Profile:</strong> ${r} ‚Üí ${riskMsg}<br>
          <strong>Goal:</strong> ${g}<br>
          <strong>Event Interest:</strong> ${e}<br><br>
          <strong>Share your result:</strong>
          <div class="share-options">
            <a href="mailto:?subject=My Financial Health Checkup&body=Health Score: ${h} - ${healthMsg}%0ARisk: ${r} - ${riskMsg}"><img src="https://img.icons8.com/fluency/48/email.png" alt="Email"/></a>
            <a href="https://wa.me/?text=My Financial Health Score: ${h} (${healthMsg}), Risk Profile: ${r} (${riskMsg})" target="_blank"><img src="https://img.icons8.com/color/48/whatsapp--v1.png" alt="WhatsApp"/></a>
          </div>
        </div>`;
      chat.appendChild(res);
    }

    function updateProgress() {
      const percent = Math.round((i + 1) / questions[lang].length * 100);
      progress.textContent = `${percent}%`;
    }
  
</script>




<script>
let userData = {}, userInfoPhase = true;

const userInfoQuestions = {
  en: [
    { q: "Hi! What‚Äôs your name?", a: [], t: "name" },
    { q: "Great! Can I have your email?", a: [], t: "email" },
    { q: "And your mobile number?", a: [], t: "mobile" }
  ],
  ml: [
    { q: "‡¥π‡¥æ‡¥Ø‡µç! ‡¥®‡¥ø‡¥ô‡µç‡¥ô‡¥≥‡µÅ‡¥ü‡µÜ ‡¥™‡µá‡¥∞‡µç ‡¥é‡¥®‡µç‡¥§‡¥æ‡¥£‡µç?", a: [], t: "name" },
    { q: "‡¥®‡¥®‡µç‡¥¶‡¥ø! ‡¥®‡¥ø‡¥ô‡µç‡¥ô‡¥≥‡µÅ‡¥ü‡µÜ ‡¥á‡¥Æ‡µÜ‡¥Ø‡¥ø‡µΩ ‡¥Ü‡¥£‡µã?", a: [], t: "email" },
    { q: "‡¥®‡¥ø‡¥ô‡µç‡¥ô‡¥≥‡µÅ‡¥ü‡µÜ ‡¥Æ‡µä‡¥¨‡µà‡µΩ ‡¥®‡¥Æ‡µç‡¥™‡µº?", a: [], t: "mobile" }
  ]
};

function startChat(selected) {
  lang = selected;
  const langBox = document.getElementById("langSelect");
  if (langBox) langBox.remove();
  i = 0;
  userInfoPhase = true;
  askUserInfo();
}

function askUserInfo() {
  const q = userInfoQuestions[lang][i];
  const m = document.createElement("div");
  m.className = "message bot";
  m.innerHTML = `<span class="avatar" style="font-size:32px;margin:0 10px;">üßû‚Äç‚ôÇÔ∏è</span><div class="bubble">${q.q}</div>`;
  chat.appendChild(m);

  const inputDiv = document.createElement("div");
  inputDiv.className = "response-buttons";
  const input = document.createElement("input");
  input.type = "text";
  input.placeholder = "Type here...";
  input.style = "padding:10px 14px; font-size:14px; width:70%; border-radius:12px; border:1px solid #ccc;";
  input.onkeydown = (e) => {
    if (e.key === "Enter") submitUserInfo(input.value.trim());
  };
  inputDiv.appendChild(input);
  chat.appendChild(inputDiv);
  input.focus();
}

function submitUserInfo(value) {
  if (!value) return;
  const key = userInfoQuestions[lang][i].t;

  if (key === "email" && (!value.includes("@") || !value.includes("."))) {
    alert("Please enter a valid email address.");
    return;
  }
  if (key === "mobile" && (!/^[0-9]{10}$/.test(value))) {
    alert("Please enter a valid 10-digit mobile number.");
    return;
  }

  userData[key] = value;
  const u = document.createElement("div");
  u.className = "message user";
  u.innerHTML = `<div class="bubble">${value}</div>`;
  chat.appendChild(u);
  document.querySelectorAll(".response-buttons").forEach(e => e.remove());
  i++;
  if (i < userInfoQuestions[lang].length) {
    askUserInfo();
  } else {
    i = 0; userInfoPhase = false;
    const transitionMsg = {
      en: "Thanks for sharing those details! Now let‚Äôs do a quick Financial Health Checkup and understand your comfort with risk. üß†üìä",
      ml: "‡¥µ‡¥ø‡¥µ‡¥∞‡¥ô‡µç‡¥ô‡µæ ‡¥™‡¥ô‡µç‡¥ï‡µÅ‡¥µ‡µÜ‡¥ö‡µç‡¥ö‡¥§‡¥ø‡µΩ ‡¥®‡¥®‡µç‡¥¶‡¥ø! ‡¥á‡¥®‡¥ø, ‡¥®‡¥ø‡¥ô‡µç‡¥ô‡µæ‡¥Ø‡µÅ‡¥ü‡µÜ ‡¥∏‡¥æ‡¥Æ‡µç‡¥™‡¥§‡µç‡¥§‡¥ø‡¥ï ‡¥Ü‡¥∞‡µã‡¥ó‡µç‡¥Ø‡¥µ‡µÅ‡¥Ç ‡¥±‡¥ø‡¥∏‡µç‡¥ï‡µç ‡¥Æ‡¥®‡µã‡¥≠‡¥æ‡¥µ‡¥µ‡µÅ‡¥Ç ‡¥™‡¥∞‡¥ø‡¥∂‡µã‡¥ß‡¥ø‡¥ï‡µç‡¥ï‡¥æ‡¥Ç. üß†üìä"
    };
    const tMsg = document.createElement("div");
    tMsg.className = "message bot";
    tMsg.innerHTML = `<span class="avatar" style="font-size:32px;margin:0 10px;">üßû‚Äç‚ôÇÔ∏è</span><div class="bubble">${transitionMsg[lang]}</div>`;
    chat.appendChild(tMsg);
    setTimeout(() => ask(), 1400);
  }
}
</script>


<script>
function askLocation() {
  const q = lang === 'ml' ? "‡¥®‡¥ø‡¥ô‡µç‡¥ô‡µæ ‡¥é‡¥µ‡¥ø‡¥ü‡µÜ‡¥Ø‡¥æ‡¥£‡µç ‡¥§‡¥æ‡¥Æ‡¥∏‡¥ø‡¥ï‡µç‡¥ï‡µÅ‡¥®‡µç‡¥®‡¥§‡µç?" : "Where are you from?";
  const m = document.createElement("div");
  m.className = "message bot";
  m.innerHTML = `<span class="avatar" style="font-size:32px;margin:0 10px;">üßû‚Äç‚ôÇÔ∏è</span><div class="bubble">${q}</div>`;
  chat.appendChild(m);

  const inputDiv = document.createElement("div");
  inputDiv.className = "response-buttons";
  const input = document.createElement("input");
  input.type = "text";
  input.placeholder = lang === 'ml' ? "‡¥§‡¥æ‡¥Æ‡¥∏ ‡¥∏‡µç‡¥•‡¥≤‡¥§‡µç‡¥§‡¥ø‡¥®‡µç‡¥±‡µÜ ‡¥™‡µá‡¥∞‡µç ‡¥é‡¥¥‡µÅ‡¥§‡µÇ..." : "Enter your location...";
  input.style = "padding:10px 14px; font-size:14px; width:70%; border-radius:12px; border:1px solid #ccc;";
  input.onkeydown = (e) => {
    if (e.key === "Enter") {
      const val = input.value.trim();
      if (val.length > 1) {
        userData["location"] = val;
        const u = document.createElement("div");
        u.className = "message user";
        u.innerHTML = `<div class="bubble">${val}</div>`;
        chat.appendChild(u);
        document.querySelectorAll(".response-buttons").forEach(e => e.remove());
        askLocation();
      }
    }
  };
  inputDiv.appendChild(input);
  chat.appendChild(inputDiv);
  input.focus();
}
</script>

</body>
</html>
